{# -*- engine: jinja -*- #}
{% extends "base.html" %}

{% block html_title %}{%if relative_path %}{{relative_path}} - {% endif %}{{info.head}}{% endblock %}

{% block sidebar_tree %}
{# Render sidebar tree from entries - check for file extension to determine type #}
{% for row in entries %}
{% set is_file = '.' in row.filename %}
<div class="tree-item {% if not is_file %}is-folder{% endif %}">
  <div class="tree-item-header">
    {% if not is_file and row.link %}
    <a href="{{row.link}}" class="tree-folder-toggle" title="Open {{row.filename}}">+</a>
    {% else %}
    <span class="tree-spacer"></span>
    {% endif %}
    {% if is_file %}
    <svg class="tree-icon tree-icon-file" viewBox="0 0 16 16" width="16" height="16"><path fill="currentColor" d="M3.75 1.5a.25.25 0 00-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 00.25-.25V6h-2.75A1.75 1.75 0 019 4.25V1.5H3.75zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-2.938-2.938zM2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0113.25 16h-9.5A1.75 1.75 0 012 14.25V1.75z"></path></svg>
    {% else %}
    <svg class="tree-icon tree-icon-folder" viewBox="0 0 16 16" width="16" height="16"><path fill="currentColor" d="M1.75 1A1.75 1.75 0 000 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0016 13.25v-8.5A1.75 1.75 0 0014.25 3H7.5a.25.25 0 01-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75z"></path></svg>
    {% endif %}
    {% if row.link %}
    <a class="tree-label" href="{{row.link}}" title="{{row.filename}}">{{row.filename}}</a>
    {% else %}
    <span class="tree-label">{{row.filename}}</span>
    {% endif %}
  </div>
</div>
{% endfor %}
{% endblock %}

{% block summary %}
{% include "directory_page.summary.html" %}
{% endblock %}

{% block navigation %}
{% include "directory_page.navigation.html" %}
{% endblock %}

{% block content %}
{% include "directory_page.content.html" %}
{% endblock %}
